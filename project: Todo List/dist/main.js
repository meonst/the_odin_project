(()=>{"use strict";const e=class{constructor(e,t="no description",n="no due date",i="no priority"){this.title=e,this.description=t,this.due_date=n,this.priority=i}return_title(){return this.title}return_description(){return this.description}return_due_date(){return this.due_date}return_priority(){return this.priority}edit_title(e){this.title=e}edit_description(e){this.description=e}edit_due_date(e){this.due_date=e}edit_priority(e){this.priority=e}};function t(e){localStorage.setItem("todo_list",JSON.stringify(e))}!function(){const n=document.getElementById("body");let i=null!==localStorage.getItem("todo_list")?function(t){let n={};return Object.keys(t).forEach((i=>{let d=[];Object.keys(t[i]).forEach((n=>{let r=t[i][n];d.push(new e(r.title,r.description,r.due_date,r.priority))})),n[i]=d})),n}(JSON.parse(localStorage.getItem("todo_list"))):{example_project_1:[new e("example_title_1")],example_project_2:[new e("example_title_2"),new e("example_title_3")]};function d(e){t(e);let i=document.createElement("div");i.setAttribute("id","main"),i.classList.toggle("main"),Object.keys(e).forEach((t=>{i.appendChild(r(t,e[t]))}));let o=document.createElement("div");o.textContent="Add new project",o.classList.toggle("new_project"),o.addEventListener("click",(()=>{let n=prompt("Enter your new project name","new project");e[n]=[],t(e),l(),d(e)})),i.append(o),n.appendChild(i)}function r(n,r){let o=document.createElement("div");o.setAttribute("id",n),o.classList.toggle("project");let s=document.createElement("div");s.classList.toggle("project_name"),s.textContent=n;let c=document.createElement("img");c.setAttribute("src","./img/delete.png"),c.classList.toggle("project_delete"),c.addEventListener("click",(()=>{delete i[`${n}`],t(i),l(),d(i)}));let a=document.createElement("div");a.classList.toggle("assignment_group"),Object.keys(r).forEach((e=>{a.appendChild(function(e,n){let r=document.createElement("div");r.classList.toggle("assignment");let o=document.createElement("div");o.textContent=e.return_title(),o.addEventListener("dblclick",(()=>{let n=prompt("Enter your new assignment title","new title");e.edit_title(n),t(i),l(),d(i)}));let s=document.createElement("div");s.textContent=e.return_description(),s.addEventListener("dblclick",(()=>{let n=prompt("Enter your new assignment description","new description");e.edit_description(n),t(i),l(),d(i)}));let c=document.createElement("div");c.textContent=e.return_due_date(),c.addEventListener("dblclick",(()=>{let n=prompt("Enter your new assignment due_date","new due_date");e.edit_due_date(n),t(i),l(),d(i)}));let a=document.createElement("div");a.textContent=e.return_priority(),a.addEventListener("dblclick",(()=>{let n=prompt("Enter your new assignment priority","new priority");e.edit_priority(n),t(i),l(),d(i)}));let p=document.createElement("img");return p.setAttribute("src","./img/delete.png"),p.classList.toggle("assignment_delete"),p.addEventListener("click",(()=>{i[n].splice(i[n].indexOf(e),1),t(i),l(),d(i)})),r.appendChild(o),r.appendChild(s),r.appendChild(c),r.appendChild(a),r.appendChild(p),r}(r[e],n))}));let p=document.createElement("div");return p.textContent="Add new assignment",p.classList.toggle("new_assignment"),p.addEventListener("click",(()=>{let r=prompt("Enter your new assignment's title","new assignment's title");i[n].push(new e(r)),t(i),l(),d(i)})),o.appendChild(s),o.appendChild(c),o.appendChild(a),o.appendChild(p),o}function l(){let e=document.getElementById("main");n.removeChild(e)}!function(){let e=document.createElement("div");e.textContent="Todo List",e.classList.toggle("header"),n.appendChild(e)}(),d(i),function(){let e=document.createElement("div");e.textContent="Made by Minhyeok Seo",e.classList.toggle("footer"),n.appendChild(e)}()}()})();